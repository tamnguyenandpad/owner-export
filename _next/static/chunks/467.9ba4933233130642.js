"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[467],{6780:function(e,n,r){r.r(n),r.d(n,{default:function(){return Z}});var a=r(7328),i=r(6670),t=r(6383),l=r(2322),o=r(2784),d=r(3955),s=o.forwardRef((function(e,n){var r=e.id,a=e.name,i=e.readonly,t=e.disabled,o=e.onChange,d=e.className,s=e.value,c=e.checked;return(0,l.jsx)("input",{id:r,"data-testid":"input-radio-ref",name:a,type:"radio",ref:n,onChange:o,readOnly:i||!1,disabled:t||!1,className:d||"",value:s||"",checked:c})})),c=(0,o.memo)(s),u=r(556),m=r(4864),f=r(7693),v=r(9328),h=r(8932),x=r(9936),p=r(7038),b=r(1938),j=function(){var e=(0,b.SO)().closeModal,n=(0,f.I)(),r=(0,o.useState)([]),s=r[0],j=r[1],Z=(0,o.useState)(""),w=Z[0],g=Z[1],C=(0,d.cI)(),N=C.register,y=C.formState.errors,k=C.handleSubmit,E=C.clearErrors,A=C.resetField;(0,x.gt)({variables:{shareID:(null===n||void 0===n?void 0:n.share.id)||""},skip:!(null===n||void 0===n?void 0:n.share.id),onCompleted:function(e){var n;j(e.listRoles),g((null===(n=e.listRoles.find((function(e){return"\u4e00\u822c"===e.name})))||void 0===n?void 0:n.id)||"")},onError:function(e){(0,v.d)(e)}});var z=(0,t.Z)((0,x.$t)(),2),$=z[0],B=z[1].loading,S=(0,o.useCallback)((function(){var n;e(),A("owneremail"),g((null===(n=s.find((function(e){return"\u4e00\u822c"===e.name})))||void 0===n?void 0:n.id)||"")}),[e,s,A]),D=(0,o.useCallback)((function(e){e.owneremail&&$({variables:{shareID:(null===n||void 0===n?void 0:n.share.id)||"",roleID:w,email:e.owneremail},refetchQueries:["ListShareOwners"],onCompleted:function(){h.Am.success("\u65bd\u4e3b\u3092\u62db\u5f85\u3057\u307e\u3057\u305f\u3002"),S()},onError:function(e){(0,v.d)(e)}})}),[null===n||void 0===n?void 0:n.share.id,S,$,w]),I=(0,o.useMemo)((function(){var e;return(null===(e=s.find((function(e){return e.id===w})))||void 0===e?void 0:e.description)||""}),[s,w]);return(0,l.jsxs)(p.Z,{loading:B,onClose:S,title:"\u5bb6\u65cf\u3092\u8ffd\u52a0",onAccept:k(D),acceptBtn:"\u8ffd\u52a0",cancelBtn:"\u30ad\u30e3\u30f3\u30bb\u30eb",children:[(0,l.jsx)("div",{className:"text-sm",children:"\u62db\u5f85\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),(0,l.jsx)(u.Z,(0,i.Z)((0,a.Z)({id:"owneremail"},N("owneremail",{required:!0,pattern:m.E})),{name:"owneremail",placeholder:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u8ffd\u52a0",onChange:function(){E("owneremail")},type:"text",className:"mt-1 bg-white rounded w-[320px] py-2 pl-4 pr-8 text-grey-900 border border-blue-500"})),y.owneremail&&(0,l.jsx)("div",{className:"text-xs text-red-500 mt-1",children:"\u6b63\u3057\u3044\u30e1\u30fc\u30eb\u5f62\u5f0f\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"}),(0,l.jsx)("div",{className:"mt-4 text-sm",children:"\u6a29\u9650"}),s&&(0,l.jsx)("div",{className:"flex items-center mt-3",children:s.map((function(e,n){return(0,l.jsxs)("label",{htmlFor:e.name,className:"mr-6 flex items-center",children:[(0,l.jsx)(c,(0,i.Z)((0,a.Z)({id:e.name},N("ownerrole")),{onChange:function(){return g(e.id)},value:e.id,checked:w===e.id})),(0,l.jsx)("span",{className:"ml-1 text-sm",children:e.name})]},n)}))}),I&&(0,l.jsx)("div",{className:"mt-5 bg-grey-200 p-3",children:I})]})},Z=(0,o.memo)(j)},556:function(e,n,r){var a=r(2322),i=r(2784),t=r(917),l=i.forwardRef((function(e,n){var r=e.id,l=e.name,o=e.defaultValue,d=e.readonly,s=e.disabled,c=e.placeholder,u=e.onChange,m=e.onBlur,f=e.onEnter,v=e.isDisableEnter,h=e.className,x=e.type,p=void 0===x?"text":x,b=(0,i.useCallback)((function(e){"Enter"===e.code&&f&&!v&&(f(),(0,t.t)())}),[v,f]);return(0,a.jsx)("input",{id:r,"data-testid":"input-ref",name:l,type:p,defaultValue:o,placeholder:c||"",ref:n,onChange:u,onBlur:m,onKeyDown:b,readOnly:d||!1,disabled:s||!1,className:h||"bg-white rounded w-full py-2 px-4 text-grey-900 border border-blue-500"})}));n.Z=(0,i.memo)(l)},7038:function(e,n,r){var a=r(2322),i=r(5059),t=r(1708),l=r(4210),o=r(2711),d=r(6179),s=r(2784),c=r(9303),u=function(e){var n=e.title,r=e.onClose,s=e.children,u=e.cancelBtn,m=e.acceptBtn,f=void 0===m?"\u627f\u8a8d":m,v=e.onAccept,h=e.loading,x=e.onReject,p=e.rejectBtn;return(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsx)(i.Z,{className:"font-bold p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{children:n}),(0,a.jsx)("div",{className:"cursor-pointer w-6",onClick:r,children:(0,a.jsx)(c.Z,{})})]})}),(0,a.jsx)(t.Z,{dividers:!0,className:"px-3 py-8",children:s}),(0,a.jsxs)(l.Z,{children:[u&&(0,a.jsx)(o.Z,{variant:"text",onClick:r,className:"underline text-black",children:u}),p&&(0,a.jsx)(o.Z,{variant:"outlined",color:"primary",onClick:x,children:u}),(0,a.jsx)(d.Z,{loading:h,variant:"contained",color:"primary",onClick:v,children:f})]})]})};n.Z=(0,s.memo)(u)},917:function(e,n,r){r.d(n,{t:function(){return i}});var a=r(2838),i=function(){(0,a.Z)(document.activeElement,HTMLElement)&&document.activeElement.blur()}},4864:function(e,n,r){r.d(n,{E:function(){return a},G:function(){return i}});var a=/^[a-zA-Z0-9.a-zA-Z0-9.!#$%&'*+-/=?^_`{|}~]+@[a-zA-Z0-9]+\.[a-zA-Z]/,i=/^(?!.*[^A-Za-z0-9!@#$%^&*]$)((?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])|(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*])|(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^&*])|(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])).{8,}$/}}]);