(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{3506:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shares/[shareId]/constructions/[constructionId]/owners",function(){return r(1282)}])},5076:function(e,t,r){"use strict";var o=r(2322),n=r(2784),i=function(){return(0,o.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.87869 14.5356L8.29291 15.9498L12.5355 11.7071L13.9498 10.2929L12.5355 8.8787L8.29291 4.63606L6.87869 6.05027L11.1213 10.2929L6.87869 14.5356Z",fill:"#888888"})})};t.Z=(0,n.memo)(i)},1060:function(e,t,r){"use strict";var o=r(2322),n=r(9097),i=r.n(n),l=r(2784),s=r(5076),a=function(e){var t=e.items;return(0,o.jsx)("div",{className:"flex items-center",children:t&&t.map((function(e,t){return(0,o.jsxs)("div",{className:"flex items-center mr-2",children:[(0,o.jsx)(i(),{href:e.url,children:(0,o.jsx)("a",{children:(0,o.jsx)("div",{className:"text-grey-500 underline",children:e.value})})}),(0,o.jsx)("div",{children:(0,o.jsx)(s.Z,{})})]},e.url)}))})};t.Z=(0,l.memo)(a)},738:function(e,t,r){"use strict";var o=r(2322),n=r(2784),i=r(733),l=function(){return(0,o.jsx)("div",{className:"flex justify-center grow items-center","data-testid":"common-loading",children:(0,o.jsx)(i.Z,{fill:"#D72E3A"})})};t.Z=(0,n.memo)(l)},9390:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});var o=r(1187),n=function(){var e=(0,o.T)();return function(t){return!t.filter((function(t){return e.indexOf(t)<0})).length}}},1282:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var o=r(930),n=r(2322),i=r(9097),l=r.n(i),s=r(5632),a=r(2784),u=r(8932),c=r(1060),d=r(738),f=function(){return(0,n.jsx)("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M13.25 3.00006H11.75V5.25006H9.5V6.75006H11.75V9.00006H13.25V6.75006H15.5V5.25006H13.25V3.00006ZM2 3.00006C1.99076 3.39655 2.06205 3.7908 2.20954 4.15895C2.35704 4.5271 2.57768 4.86151 2.85811 5.14195C3.13855 5.42239 3.47296 5.64303 3.84111 5.79052C4.20926 5.93801 4.60351 6.0093 5 6.00006C5.39649 6.0093 5.79074 5.93801 6.15889 5.79052C6.52704 5.64303 6.86145 5.42239 7.14189 5.14195C7.42232 4.86151 7.64296 4.5271 7.79046 4.15895C7.93795 3.7908 8.00924 3.39655 8 3.00006C8.00924 2.60357 7.93795 2.20933 7.79046 1.84117C7.64296 1.47302 7.42232 1.13861 7.14189 0.858177C6.86145 0.57774 6.52704 0.357101 6.15889 0.209606C5.79074 0.0621116 5.39649 -0.00917343 5 6.30122e-05C4.60351 -0.00917343 4.20926 0.0621116 3.84111 0.209606C3.47296 0.357101 3.13855 0.57774 2.85811 0.858177C2.57768 1.13861 2.35704 1.47302 2.20954 1.84117C2.06205 2.20933 1.99076 2.60357 2 3.00006ZM6.5 3.00006C6.50965 3.1996 6.47745 3.39895 6.40548 3.58531C6.33351 3.77166 6.22336 3.94091 6.0821 4.08216C5.94084 4.22342 5.7716 4.33358 5.58524 4.40554C5.39889 4.47751 5.19954 4.50971 5 4.50006C4.80046 4.50971 4.60111 4.47751 4.41476 4.40554C4.2284 4.33358 4.05916 4.22342 3.9179 4.08216C3.77664 3.94091 3.66649 3.77166 3.59452 3.58531C3.52255 3.39895 3.49035 3.1996 3.5 3.00006C3.49035 2.80053 3.52255 2.60118 3.59452 2.41482C3.66649 2.22846 3.77664 2.05922 3.9179 1.91796C4.05916 1.7767 4.2284 1.66655 4.41476 1.59458C4.60111 1.52261 4.80046 1.49042 5 1.50006C5.19954 1.49042 5.39889 1.52261 5.58524 1.59458C5.7716 1.66655 5.94084 1.7767 6.0821 1.91796C6.22336 2.05922 6.33351 2.22846 6.40548 2.41482C6.47745 2.60118 6.50965 2.80053 6.5 3.00006V3.00006ZM2 10.5001C2 9.90333 2.23705 9.33103 2.65901 8.90907C3.08097 8.48712 3.65326 8.25006 4.25 8.25006H5.75C6.34674 8.25006 6.91903 8.48712 7.34099 8.90907C7.76295 9.33103 8 9.90333 8 10.5001V11.2501H9.5V10.5001C9.5 10.0076 9.403 9.51997 9.21455 9.065C9.02609 8.61003 8.74987 8.19663 8.40165 7.84841C8.05343 7.50019 7.64003 7.22397 7.18506 7.03551C6.73009 6.84706 6.24246 6.75006 5.75 6.75006H4.25C3.25544 6.75006 2.30161 7.14515 1.59835 7.84841C0.895088 8.55167 0.5 9.5055 0.5 10.5001V11.2501H2V10.5001Z",fill:"#383839"})})},p=(0,a.memo)(f),v=r(9390),h=r(7693),x=r(1187),C=r(5134),m=r(9328),y=r(9936),w=r(3906),g=r(1938),j=r(1093),L=["\u62db\u5f85\u4e2d","\u53c2\u52a0\u4e2d","\u62d2\u5426"],b=function(){var e=(0,h.I)(),t=(0,C.U)(),r=(0,s.useRouter)(),i=(0,v.X)(),f=(0,x.T)(),b=(0,g.SO)().openModal,_=(0,a.useState)([]),N=_[0],E=_[1];(0,a.useEffect)((function(){!i([w.P.ownerList])&&f.length&&(null===e||void 0===e?void 0:e.share.id)&&(r.push(j.Z.reports(null===e||void 0===e?void 0:e.share.id,null===e||void 0===e?void 0:e.id)),u.Am.error("\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6a29\u9650\u304c\u3042\u308a\u307e\u305b\u3093\u3002"))}),[i,null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.share.id,f,r]);var M=(0,y.MB)({variables:{shareID:(null===e||void 0===e?void 0:e.share.id)||"",ignoreOwnerIDs:[]},skip:!e||!t||!i([w.P.ownerList]),onError:function(e){(0,m.d)(e)}}),R=M.loading,Z=M.data;return(0,a.useEffect)((function(){if(Z){var e=Z.listShareOwners.find((function(e){return e.id===(null===t||void 0===t?void 0:t.id)})),r=Z.listShareOwners.filter((function(e){return e.id!==(null===t||void 0===t?void 0:t.id)})),n=e?[e].concat((0,o.Z)(r)):(0,o.Z)(r);E(n)}}),[Z,null===t||void 0===t?void 0:t.id]),R?(0,n.jsx)(d.Z,{}):(0,n.jsxs)("div",{className:"py-6 px-4 grow overflow-hidden flex flex-col",children:[(0,n.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.share.id)&&(0,n.jsx)(c.Z,{items:[{url:j.Z.setting(null===e||void 0===e?void 0:e.share.id,null===e||void 0===e?void 0:e.id),value:"\u8a2d\u5b9a"}]}),(0,n.jsx)("div",{className:"mt-2 font-bold text-xl",children:"\u65bd\u4e3b\u4e00\u89a7"})]}),(0,n.jsx)("div",{className:"mt-6 px-6 py-3 bg-white w-full overflow-x-hidden overflow-y-scroll grow",children:N.map((function(r,o){return(0,n.jsxs)("div",{className:"flex justify-between py-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"px-1.5\tpy-0.5 border-solid border rounded-3xl mr-1"+(1===r.invitationStatus?" bg-gray-100 border-gray-300 text-gray-600":2===r.invitationStatus?" bg-red-300 border-red-600 text-red-600":" border-gray-600"),children:L[(null===r||void 0===r?void 0:r.invitationStatus)||0]}),(null===e||void 0===e?void 0:e.share.id)&&(0,n.jsx)(l(),{href:(null===t||void 0===t?void 0:t.id)===r.id?j.Z.profile(null===e||void 0===e?void 0:e.share.id,null===e||void 0===e?void 0:e.id):j.Z.owner_detail(null===e||void 0===e?void 0:e.share.id,null===e||void 0===e?void 0:e.id,r.id),children:(0,n.jsx)("a",{className:"break-all",children:r.name||r.email||"\u540d\u524d\u304c\u3042\u308a\u307e\u305b\u3093"})})]}),(0,n.jsx)("div",{className:"break-keep",children:r.roleName})]},o)}))}),i([w.P.ownerCreate,w.P.roleList])&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"ml-auto mt-2",children:(0,n.jsxs)("div",{onClick:function(){return b("INVITE_OWNER")},className:"w-max text-xs cursor-pointer py-2 px-4 shadow border border-grey-300 rounded flex items-center",children:[(0,n.jsx)("div",{className:"mr-2",children:(0,n.jsx)(p,{})}),(0,n.jsx)("div",{children:"\u65bd\u4e3b\u3092\u62db\u5f85\u3059\u308b"})]})})})]})},_=(0,a.memo)(b)},3906:function(e,t,r){"use strict";var o;r.d(t,{P:function(){return o}}),function(e){e.propertyList="share.list",e.propertyGet="share.get",e.constructionList="share.construction.list",e.constructionGet="share.construction.get",e.roleList="share.role.list",e.reportList="share.construction.report.list",e.reportGet="share.construction.report.get",e.reportUpdate="share.construction.report.update",e.reportCreate="share.construction.report.create",e.reportDelete="share.construction.report.delete",e.replyList="share.construction.report.reply.list",e.replyCreate="share.construction.report.reply.create",e.replyUpdate="share.construction.report.reply.update",e.replyDelete="share.construction.report.reply.delete",e.reactionCreate="share.construction.report.reaction.create",e.messageList="share.construction.message.list",e.messageCreate="share.construction.message.create",e.messageUpdate="share.construction.message.update",e.messageDelete="share.construction.message.delete",e.ownerList="share.owner.list",e.ownerGet="share.owner.get",e.ownerCreate="share.owner.create",e.ownerUpdate="share.owner.update",e.ownerDelete="share.owner.delete"}(o||(o={}))},5253:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,r,o){return!1};("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},162:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(4566).Z;r(9178).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(3903).Z,i=r(5154).Z,l=n(r(2784)),s=r(9918),a=r(4400),u=r(3220),c=r(4069),d=r(2030),f=r(5253),p=r(3952),v="undefined"!==typeof l.default.useTransition,h={};function x(e,t,r,o){if(e&&s.isLocalURL(t)){e.prefetch(t,r,o).catch((function(e){0}));var n=o&&"undefined"!==typeof o.locale?o.locale:e&&e.locale;h[t+"%"+r+(n?"%"+n:"")]=!0}}var C=l.default.forwardRef((function(e,t){var r,n=e.href,C=e.as,m=e.children,y=e.prefetch,w=e.passHref,g=e.replace,j=e.soft,L=e.shallow,b=e.scroll,_=e.locale,N=e.onClick,E=e.onMouseEnter,M=e.onTouchStart,R=e.legacyBehavior,Z=void 0===R?!0!==Boolean(!1):R,O=i(e,["href","as","children","prefetch","passHref","replace","soft","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);r=m,!Z||"string"!==typeof r&&"number"!==typeof r||(r=l.default.createElement("a",null,r));var P=!1!==y,k=o(v?l.default.useTransition():[],2)[1],H=l.default.useContext(u.RouterContext),T=l.default.useContext(c.AppRouterContext);T&&(H=T);var S,V=l.default.useMemo((function(){var e=o(s.resolveHref(H,n,!0),2),t=e[0],r=e[1];return{href:t,as:C?s.resolveHref(H,C):r||t}}),[H,n,C]),D=V.href,U=V.as,I=l.default.useRef(D),B=l.default.useRef(U);Z&&(S=l.default.Children.only(r));var A=Z?S&&"object"===typeof S&&S.ref:t,G=o(d.useIntersection({rootMargin:"200px"}),3),K=G[0],X=G[1],F=G[2],W=l.default.useCallback((function(e){B.current===U&&I.current===D||(F(),B.current=U,I.current=D),K(e),A&&("function"===typeof A?A(e):"object"===typeof A&&(A.current=e))}),[U,A,D,F,K]);l.default.useEffect((function(){var e=X&&P&&s.isLocalURL(D),t="undefined"!==typeof _?_:H&&H.locale,r=h[D+"%"+U+(t?"%"+t:"")];e&&!r&&x(H,D,U,{locale:t})}),[U,D,X,_,P,H]);var q={ref:W,onClick:function(e){Z||"function"!==typeof N||N(e),Z&&S.props&&"function"===typeof S.props.onClick&&S.props.onClick(e),e.defaultPrevented||function(e,t,r,o,n,i,l,a,u,c){if("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&s.isLocalURL(r)){e.preventDefault();var d=function(){"softPush"in t&&"softReplace"in t?t[i?n?"softReplace":"softPush":n?"replace":"push"](r):t[n?"replace":"push"](r,o,{shallow:l,locale:u,scroll:a})};c?c(d):d()}}(e,H,D,U,g,j,L,b,_,T?k:void 0)},onMouseEnter:function(e){Z||"function"!==typeof E||E(e),Z&&S.props&&"function"===typeof S.props.onMouseEnter&&S.props.onMouseEnter(e),s.isLocalURL(D)&&x(H,D,U,{priority:!0})},onTouchStart:function(e){Z||"function"!==typeof M||M(e),Z&&S.props&&"function"===typeof S.props.onTouchStart&&S.props.onTouchStart(e),s.isLocalURL(D)&&x(H,D,U,{priority:!0})}};if(!Z||w||"a"===S.type&&!("href"in S.props)){var z="undefined"!==typeof _?_:H&&H.locale,J=H&&H.isLocaleDomain&&f.getDomainLocale(U,z,H.locales,H.domainLocales);q.href=J||p.addBasePath(a.addLocale(U,z,H&&H.defaultLocale))}return Z?l.default.cloneElement(S,q):l.default.createElement("a",Object.assign({},O,q),r)}));t.default=C,("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4069:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalLayoutRouterContext=t.LayoutRouterContext=t.AppRouterContext=void 0;var o=(0,r(3903).Z)(r(2784)),n=o.default.createContext(null);t.AppRouterContext=n;var i=o.default.createContext(null);t.LayoutRouterContext=i;var l=o.default.createContext(null);t.GlobalLayoutRouterContext=l},9097:function(e,t,r){e.exports=r(162)}},function(e){e.O(0,[774,888,179],(function(){return t=3506,e(e.s=t);var t}));var t=e.O();_N_E=t}]);