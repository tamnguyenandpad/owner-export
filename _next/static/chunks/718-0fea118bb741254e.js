"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[718],{5076:function(e,r,n){var t=n(2322),s=n(2784),i=function(){return(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.87869 14.5356L8.29291 15.9498L12.5355 11.7071L13.9498 10.2929L12.5355 8.8787L8.29291 4.63606L6.87869 6.05027L11.1213 10.2929L6.87869 14.5356Z",fill:"#888888"})})};r.Z=(0,s.memo)(i)},4066:function(e,r,n){var t=n(2322),s=n(2784),i=function(e){var r=e.color;return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{fill:r||"",d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})})};r.Z=(0,s.memo)(i)},9472:function(e,r,n){var t=n(8788),s=n(6383),i=n(4776),a=n.n(i),o=n(2322),l=n(2784),c=n(7015),u=n(7381),d=n(4066),m=n(5573),h=n(8932),f=n(9328),p=n(9936),v=function(e){var r=e.src,n=e.readonly,i=(0,s.Z)((0,c.F)(),2)[1],v=(0,s.Z)((0,p.jj)(),1)[0],x=(0,s.Z)((0,p.xp)(),1)[0],g=(0,l.useCallback)((function(e){x({variables:{temporaryID:e.temporaryID},onError:function(e){(0,f.d)(e)}})}),[x]),w=(0,l.useCallback)((function(e){Array.isArray(e)||v({variables:{filename:e.name},onCompleted:function(){var r=(0,t.Z)(a().mark((function r(n){var t;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t={temporaryID:"",url:""},r.next=3,m.Z.put(n.createPresignedUrl.url,e.file,{headers:{"Content-Type":"application/octet-stream"}}).then((function(e){200===e.status&&(t.temporaryID=n.createPresignedUrl.temporaryID,t.url=n.createPresignedUrl.url,t.temporaryID&&t.url&&g(t))})).catch((function(e){h.Am.error(e.message)}));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),onError:function(e){(0,f.d)(e)}})}),[v,g]);return(0,o.jsx)("div",{className:"mt-6","data-testid":"avatar-section",children:(0,o.jsxs)("div",{className:"relative w-28",children:[(0,o.jsx)(u.Z,{size:"120",src:r}),!n&&(0,o.jsx)("div",{className:"absolute bottom-2 right-0","data-testid":"avatar-edit",children:(0,o.jsx)("div",{className:"w-8 rounded-full bg-white p-2 shadow cursor-pointer",onClick:function(){i({accept:"image/*",multiple:!1},w)},children:(0,o.jsx)(d.Z,{color:"grey"})})})]})})};r.Z=(0,l.memo)(v)},4067:function(e,r,n){n.d(r,{Z:function(){return w}});var t=n(7328),s=n(6670),i=n(6383),a=n(2322),o=n(2784),l=n(3955),c=n(4066),u=n(556),d=n(9328),m=n(2228);function h(){var e=(0,m.Z)(["\n  query GET_LIST_SHARE_OWNERS($shareID: String!, $ignoreOwnerIDs: [String!]!) {\n    listShareOwners(shareID: $shareID, ignoreOwnerIDs: $ignoreOwnerIDs) {\n      id\n      name\n      email\n      roleName\n      invitationStatus\n    }\n  }\n"]);return h=function(){return e},e}var f=(0,n(138).Ps)(h()),p=n(7693),v=n(9936),x=n(8932),g=function(e){var r=e.name,n=e.readonly,m=(0,o.useState)(!1),h=m[0],g=m[1],w=(0,p.I)(),y=(0,i.Z)((0,v.wy)(),1)[0],j=(0,l.cI)(),b=j.formState.errors,Z=j.register,N=j.handleSubmit,C=j.setFocus,E=(0,o.useCallback)((function(){g(!0),setTimeout((function(){C("name",{shouldSelect:!0})}),0)}),[C]),L=(0,o.useCallback)((function(e){y({variables:{name:e},refetchQueries:[{query:f,variables:{shareID:null===w||void 0===w?void 0:w.share.id,ignoreOwnerIDs:[]}}],onCompleted:function(){g(!1),x.Am.success("\u6c0f\u540d\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f")},onError:function(e){(0,d.d)(e)}})}),[null===w||void 0===w?void 0:w.share.id,y]),D=(0,o.useCallback)((function(e){e.name&&L(e.name)}),[L]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-sm text-grey-500",children:"\u304a\u540d\u524d"}),(0,a.jsxs)("div",{className:"mt-3 flex items-center",children:[(0,a.jsx)("div",{className:h?"hidden":" break-all",children:r}),(0,a.jsxs)("div",{className:"md:flex items-center ".concat(h?"":"hidden md:hidden"),children:[(0,a.jsx)(u.Z,(0,s.Z)((0,t.Z)({id:"name",defaultValue:r||"",className:"bg-white rounded w-[240px] py-2 px-4 text-grey-900 border border-blue-500"},Z("name",{maxLength:{value:50,message:"\u6c0f\u540d\u306f50\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"},validate:{required:function(e){return""!==e.trim()||"\u6c0f\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"}}})),{name:"name"})),(0,a.jsxs)("div",{className:"mt-4 md:mt-0 flex items-center",children:[(0,a.jsx)("button",{onClick:N(D),className:"px-2 py-1 bg-red-500 text-white rounded md:ml-5",children:"\u4fdd\u5b58"}),(0,a.jsx)("button",{onClick:function(){return g(!1)},className:"px-2 py-1 underline ml-5 bg-transparent",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]}),!h&&!n&&(0,a.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:E,children:[(0,a.jsx)("div",{className:"w-4 ml-6 mr-1",children:(0,a.jsx)(c.Z,{color:"grey"})}),(0,a.jsx)("div",{className:"whitespace-nowrap",children:"\u5909\u66f4\u3059\u308b"})]})]}),b.name&&h&&(0,a.jsx)("div",{className:"text-red-500 text-xs mt-2",children:b.name.message})]})},w=(0,o.memo)(g)},7632:function(e,r,n){var t=n(7328),s=n(6670),i=n(6383),a=n(2322),o=n(2784),l=n(3149),c=n(7693),u=n(4066),d=n(9328),m=n(9390),h=n(9936),f=n(3906),p=n(8932),v={control:function(e){return(0,s.Z)((0,t.Z)({},e),{display:"flex",cursor:"pointer",fontWeight:700,outline:"none"})},indicatorSeparator:function(e){return(0,s.Z)((0,t.Z)({},e),{width:"0"})},option:function(e,r){return(0,s.Z)((0,t.Z)({},e),{cursor:"pointer",color:"black"})}},x=function(e){var r=e.role,n=e.readonly,x=e.ownerId,g=e.invitationStatus,w=(0,c.I)(),y=(0,o.useState)(!1),j=y[0],b=y[1],Z=(0,o.useState)([]),N=Z[0],C=Z[1],E=(0,o.useState)(""),L=E[0],D=E[1],I=(0,m.X)(),k=(0,i.Z)((0,h.U0)({variables:{shareID:(null===w||void 0===w?void 0:w.share.id)||""},onCompleted:function(e){var n,i=e.listRoles.map((function(e){return(0,s.Z)((0,t.Z)({},e),{value:e.id,label:e.name})}));C(i);var a=(null===(n=i.find((function(e){return e.name===r})))||void 0===n?void 0:n.id)||"";D(a)},onError:function(e){(0,d.d)(e)}}),1),S=k[0],O=(0,i.Z)((0,h.O4)(),1)[0],A=(0,o.useCallback)((function(){O({variables:{ownerID:x,shareID:(null===w||void 0===w?void 0:w.share.id)||"",roleID:L},update:function(e){e.modify({id:"ShareOwner:".concat(x),fields:{roleName:function(){var e;return null===(e=N.find((function(e){return e.id===L})))||void 0===e?void 0:e.name}}})},onCompleted:function(){b(!1),p.Am.success("\u65bd\u4e3b\u306e\u6a29\u9650\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f")},onError:function(e){(0,d.d)(e)}})}),[null===w||void 0===w?void 0:w.share.id,N,x,L,O]),U=(0,o.useCallback)((function(){S(),b(!0)}),[S]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-sm text-grey-500 mt-6",children:"\u6a29\u9650"}),(0,a.jsxs)("div",{className:"mt-3 flex items-center",children:[(0,a.jsx)("div",{className:j?"hidden":"",children:r}),(0,a.jsxs)("div",{className:"md:flex items-center ".concat(j?"":"hidden md:hidden"),children:[(0,a.jsx)("div",{className:"w-[240px]",children:(0,a.jsx)(l.ZP,{name:"constructions",isSearchable:!0,options:N,onChange:function(e){return D((null===e||void 0===e?void 0:e.id)||"")},styles:v,value:N.filter((function(e){return e.value===L})),theme:function(e){return(0,s.Z)((0,t.Z)({},e),{colors:(0,s.Z)((0,t.Z)({},e.colors),{primary75:"#E9EAEB",primary50:"#E9EAEB",primary25:"#F5F6F7",primary:"#E9EAEB"})})}})}),(0,a.jsxs)("div",{className:"mt-4 md:mt-0 flex items-center",children:[(0,a.jsx)("button",{onClick:A,className:"px-2 py-1 bg-red-500 text-white rounded md:ml-5",children:"\u4fdd\u5b58"}),(0,a.jsx)("button",{onClick:function(){return b(!1)},className:"px-2 py-1 underline ml-5 bg-transparent",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]}),!j&&!n&&I([f.P.roleList,f.P.ownerUpdate])&&1===g&&(0,a.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:U,children:[(0,a.jsx)("div",{className:"w-4 ml-6 mr-1",children:(0,a.jsx)(u.Z,{color:"grey"})}),(0,a.jsx)("div",{children:"\u5909\u66f4\u3059\u308b"})]})]})]})};r.Z=(0,o.memo)(x)},1060:function(e,r,n){var t=n(2322),s=n(9097),i=n.n(s),a=n(2784),o=n(5076),l=function(e){var r=e.items;return(0,t.jsx)("div",{className:"flex items-center",children:r&&r.map((function(e,r){return(0,t.jsxs)("div",{className:"flex items-center mr-2",children:[(0,t.jsx)(i(),{href:e.url,children:(0,t.jsx)("a",{children:(0,t.jsx)("div",{className:"text-grey-500 underline",children:e.value})})}),(0,t.jsx)("div",{children:(0,t.jsx)(o.Z,{})})]},e.url)}))})};r.Z=(0,a.memo)(l)},556:function(e,r,n){var t=n(2322),s=n(2784),i=n(917),a=s.forwardRef((function(e,r){var n=e.id,a=e.name,o=e.defaultValue,l=e.readonly,c=e.disabled,u=e.placeholder,d=e.onChange,m=e.onBlur,h=e.onEnter,f=e.isDisableEnter,p=e.className,v=e.type,x=void 0===v?"text":v,g=(0,s.useCallback)((function(e){"Enter"===e.code&&h&&!f&&(h(),(0,i.t)())}),[f,h]);return(0,t.jsx)("input",{id:n,"data-testid":"input-ref",name:a,type:x,defaultValue:o,placeholder:u||"",ref:r,onChange:d,onBlur:m,onKeyDown:g,readOnly:l||!1,disabled:c||!1,className:p||"bg-white rounded w-full py-2 px-4 text-grey-900 border border-blue-500"})}));r.Z=(0,s.memo)(a)},9390:function(e,r,n){n.d(r,{X:function(){return s}});var t=n(1187),s=function(){var e=(0,t.T)();return function(r){return!r.filter((function(r){return e.indexOf(r)<0})).length}}},3906:function(e,r,n){var t;n.d(r,{P:function(){return t}}),function(e){e.propertyList="share.list",e.propertyGet="share.get",e.constructionList="share.construction.list",e.constructionGet="share.construction.get",e.roleList="share.role.list",e.reportList="share.construction.report.list",e.reportGet="share.construction.report.get",e.reportUpdate="share.construction.report.update",e.reportCreate="share.construction.report.create",e.reportDelete="share.construction.report.delete",e.replyList="share.construction.report.reply.list",e.replyCreate="share.construction.report.reply.create",e.replyUpdate="share.construction.report.reply.update",e.replyDelete="share.construction.report.reply.delete",e.reactionCreate="share.construction.report.reaction.create",e.messageList="share.construction.message.list",e.messageCreate="share.construction.message.create",e.messageUpdate="share.construction.message.update",e.messageDelete="share.construction.message.delete",e.ownerList="share.owner.list",e.ownerGet="share.owner.get",e.ownerCreate="share.owner.create",e.ownerUpdate="share.owner.update",e.ownerDelete="share.owner.delete"}(t||(t={}))},917:function(e,r,n){n.d(r,{t:function(){return s}});var t=n(2838),s=function(){(0,t.Z)(document.activeElement,HTMLElement)&&document.activeElement.blur()}}}]);