"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{4057:function(e,i,n){var t=n(2322),r=n(2784),o=function(e){var i=e.width,n=e.height;e.color;return(0,t.jsx)("svg",{width:i||"14",height:n||"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M5.34186 3.53747e-07H8.65824C9.31595 9.09874e-06 9.96722 0.129564 10.5749 0.381268C11.1825 0.632971 11.7346 1.00189 12.1997 1.46697C12.6648 1.93205 13.0337 2.48418 13.2854 3.09183C13.537 3.69948 13.6666 4.35075 13.6666 5.00847C13.6666 5.66618 13.537 6.31745 13.2853 6.92509C13.0336 7.53274 12.6647 8.08485 12.1996 8.54992C11.7345 9.01499 11.1824 9.3839 10.5747 9.63558C9.96709 9.88727 9.31582 10.0168 8.6581 10.0168H5.7587L3.61232 12.2166C3.55128 12.2791 3.47299 12.322 3.38744 12.3398C3.3019 12.3577 3.21298 12.3496 3.13205 12.3166C3.05112 12.2837 2.98183 12.2274 2.93305 12.1549C2.88427 12.0824 2.8582 11.997 2.85816 11.9096V9.35557C1.89889 8.80809 1.14756 7.9588 0.721165 6.93992C0.294769 5.92104 0.217236 4.78976 0.500641 3.72223C0.784045 2.65471 1.41248 1.71084 2.28809 1.03762C3.16371 0.364393 4.23735 -0.000414685 5.34186 3.53747e-07ZM5.3333 6C5.53109 6 5.72443 5.94135 5.88888 5.83147C6.05332 5.72159 6.1815 5.56541 6.25718 5.38268C6.33287 5.19996 6.35268 4.99889 6.31409 4.80491C6.27551 4.61093 6.18026 4.43275 6.04041 4.29289C5.90056 4.15304 5.72238 4.0578 5.5284 4.01922C5.33441 3.98063 5.13335 4.00043 4.95062 4.07612C4.7679 4.15181 4.61172 4.27998 4.50183 4.44443C4.39195 4.60888 4.3333 4.80222 4.3333 5C4.3333 5.26522 4.43866 5.51957 4.6262 5.70711C4.81373 5.89464 5.06809 6 5.3333 6ZM9.66664 5C9.66664 4.73478 9.56128 4.48043 9.37374 4.29289C9.18621 4.10536 8.93186 4 8.66664 4C8.46886 4 8.27552 4.05865 8.11107 4.16853C7.94662 4.27841 7.81845 4.43459 7.74276 4.61732C7.66707 4.80004 7.64727 5.00111 7.68585 5.19509C7.72444 5.38907 7.81968 5.56725 7.95953 5.70711C8.09938 5.84696 8.27757 5.9422 8.47155 5.98078C8.66553 6.01937 8.8666 5.99957 9.04932 5.92388C9.23205 5.84819 9.38823 5.72002 9.49811 5.55557C9.60799 5.39112 9.66664 5.19778 9.66664 5Z",fill:"#383839"})})};i.Z=(0,r.memo)(o)},2305:function(e,i,n){n.d(i,{Z:function(){return P}});var t=n(6383),r=n(2322),o=n(2784),s=n(7381),l=function(e){var i=e.user,n=e.children;return(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(s.Z,{src:(null===i||void 0===i?void 0:i.url)||""}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("div",{className:"text-grey-900 font-bold",children:(0,r.jsx)("span",{children:(null===i||void 0===i?void 0:i.name)||"\u524a\u9664\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u3067\u3059"})}),n]})]})},c=(0,o.memo)(l),a=function(e){var i=e.body,n=e.className,t=e.onClick,o=e.children;return e.isReportDetail?(0,r.jsxs)("div",{className:"".concat(n," text-grey-900 whitespace-pre-line break-words"),children:[(0,r.jsx)("span",{children:i}),o]}):(0,r.jsxs)("div",{className:"".concat(n," text-grey-900"),children:[(0,r.jsx)("span",{className:"cursor-pointer whitespace-pre-line break-words line-clamp-2",onClick:t,children:i}),o]})},d=(0,o.memo)(a),C=n(1169),u=function(e){var i=e.color;return(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M17.7503 13.4778C17.5682 13.402 17.3814 13.3984 17.1925 13.4664C17.0026 13.5347 16.8678 13.6613 16.7911 13.8441L16.697 14.0322L16.4331 14.4544L15.9682 15.0673L15.2923 15.7116L14.4055 16.3133L13.2977 16.7459L11.9536 16.9258C11.9321 16.9264 11.9115 16.9321 11.8923 16.9417L11.8816 16.9471C11.4917 16.9462 11.1159 16.904 10.7541 16.8205C10.3882 16.7361 10.0656 16.6202 9.78594 16.4734C9.50347 16.3251 9.23883 16.1663 8.99196 15.997C8.7462 15.8285 8.52886 15.6427 8.33977 15.4396C8.14848 15.2341 7.98221 15.0466 7.84088 14.877C7.7004 14.7084 7.58131 14.5402 7.48344 14.3724C7.38401 14.202 7.31285 14.081 7.27006 14.0097C7.22803 13.9397 7.20185 13.8865 7.18939 13.8492L7.18987 13.849L7.18668 13.8426C7.0961 13.6614 6.95886 13.5352 6.77599 13.4666C6.59246 13.3978 6.40492 13.4059 6.21628 13.4889C6.02729 13.5721 5.89637 13.7061 5.82738 13.89C5.7585 14.0737 5.77055 14.2643 5.85961 14.4587C5.87504 14.5043 5.9008 14.5626 5.93601 14.6331C5.97287 14.7068 6.04881 14.8331 6.16234 15.0105C6.27623 15.1885 6.39368 15.3664 6.51467 15.5444C6.63714 15.7245 6.8021 15.9287 7.00903 16.1571C7.21627 16.3857 7.43426 16.6002 7.66301 16.8003C7.89238 17.001 8.16067 17.2013 8.46765 17.4012C8.77549 17.6016 9.09766 17.7735 9.43417 17.9167C9.77128 18.0601 10.1507 18.1782 10.5722 18.271C10.9949 18.3642 11.4282 18.4107 11.8721 18.4107C11.8856 18.4107 11.9012 18.4076 11.9162 18.4039C11.9302 18.4004 11.9466 18.3955 11.9653 18.3894C12.7779 18.3885 13.5483 18.249 14.2763 17.9706C15.0035 17.6925 15.5837 17.385 16.0151 17.0471C16.4445 16.7107 16.8344 16.3208 17.1847 15.8775C17.5326 15.4373 17.7623 15.1184 17.871 14.9226C17.9766 14.7327 18.0583 14.5731 18.1158 14.4443C18.1624 14.3803 18.1891 14.3054 18.1967 14.2211C18.2043 14.1372 18.1969 14.0591 18.1731 13.9876C18.1512 13.9221 18.1258 13.8567 18.0967 13.7914C18.0652 13.7203 18.018 13.6577 17.9561 13.6036C17.8951 13.5502 17.8264 13.5082 17.7503 13.4778ZM17.7503 13.4778C17.7502 13.4777 17.7501 13.4777 17.75 13.4776L17.7314 13.5241L17.7507 13.4779C17.7506 13.4779 17.7504 13.4778 17.7503 13.4778ZM7.92822 10.7131L7.92819 10.7132L7.93047 10.7143C8.14947 10.8165 8.36972 10.8681 8.59082 10.8681C8.97393 10.8681 9.30281 10.7275 9.5748 10.4481C9.84647 10.1691 9.98315 9.83709 9.98315 9.45446C9.98315 9.20421 9.92048 8.96846 9.79554 8.74799C9.67058 8.52747 9.50103 8.3541 9.28727 8.22879C9.07354 8.1035 8.84108 8.04082 8.59082 8.04082C8.19408 8.04082 7.85792 8.18102 7.58554 8.46077C7.31386 8.73978 7.17718 9.07182 7.17718 9.45446C7.17718 9.73887 7.23924 9.98775 7.36535 10.1992C7.49149 10.4106 7.67996 10.5817 7.92822 10.7131ZM11.9999 0.54082C10.5159 0.54082 9.09592 0.829806 7.74024 1.40775C6.38533 1.98538 5.21866 2.76301 4.24083 3.74083C3.26301 4.71866 2.48538 5.88533 1.90775 7.24025C1.32981 8.59592 1.04082 10.0159 1.04082 11.4999C1.04082 12.9839 1.32981 14.4039 1.90775 15.7596C2.48538 17.1145 3.26301 18.2812 4.24083 19.259C5.21866 20.2368 6.38533 21.0144 7.74025 21.5921C9.09592 22.17 10.5159 22.459 11.9999 22.459C13.4839 22.459 14.9039 22.17 16.2596 21.5921C17.6145 21.0144 18.7812 20.2368 19.759 19.259C20.7368 18.2812 21.5144 17.1145 22.0921 15.7596C22.67 14.4039 22.959 12.9839 22.959 11.4999C22.959 10.0159 22.67 8.59592 22.0921 7.24025C21.5144 5.88533 20.7368 4.71866 19.759 3.74083C18.7812 2.76301 17.6145 1.98538 16.2596 1.40775C14.9039 0.829806 13.4839 0.54082 11.9999 0.54082ZM11.9999 20.9954C10.9682 20.9954 9.96851 20.8364 9.0006 20.5185C8.03256 20.2005 7.16038 19.7484 6.38372 19.1624C5.60617 18.5757 4.9241 17.8936 4.33741 17.1161C3.75138 16.3394 3.29933 15.4673 2.98136 14.4992C2.66344 13.5313 2.50446 12.5316 2.50446 11.4999C2.50446 10.214 2.75524 8.9849 3.25682 7.81219C3.75874 6.63869 4.43352 5.62849 5.281 4.781C6.12849 3.93352 7.13869 3.25874 8.31219 2.75682C9.4849 2.25524 10.714 2.00446 11.9999 2.00446C13.2858 2.00446 14.5149 2.25524 15.6876 2.75682C16.8611 3.25874 17.8713 3.93352 18.7188 4.781C19.5663 5.62849 20.2411 6.63869 20.743 7.81219C21.2446 8.9849 21.4954 10.214 21.4954 11.4999C21.4954 12.7858 21.2446 14.0149 20.743 15.1876C20.2411 16.3611 19.5663 17.3713 18.7188 18.2188C17.8713 19.0663 16.8611 19.7411 15.6876 20.243C14.5149 20.7446 13.2858 20.9954 11.9999 20.9954ZM15.409 10.8681C15.5133 10.8681 15.6173 10.8532 15.721 10.8236C15.8229 10.7945 15.9212 10.7581 16.0159 10.7143C16.112 10.67 16.2009 10.6145 16.2823 10.5478C16.363 10.4818 16.4364 10.4084 16.5024 10.3277C16.5685 10.2469 16.6238 10.1621 16.6682 10.0734C16.7131 9.9837 16.7463 9.8835 16.7684 9.77321C16.7903 9.66374 16.8013 9.55747 16.8013 9.45446C16.8013 9.07182 16.6646 8.73978 16.393 8.46077C16.1208 8.18122 15.7883 8.04082 15.3983 8.04082C15.0084 8.04082 14.6759 8.18122 14.4037 8.46077C14.132 8.73978 13.9954 9.07182 13.9954 9.45446C13.9954 9.83709 14.132 10.1691 14.4037 10.4481C14.6761 10.7279 15.0123 10.8681 15.409 10.8681Z",fill:i||"#595C5F",stroke:i||"#595C5F",strokeWidth:"0.1"})})},m=(0,o.memo)(u),v=function(e){var i=e.color,n=e.size;return(0,r.jsx)("svg",{width:n||"56",height:n||"56",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"m-auto",children:(0,r.jsx)("path",{d:"M26.0012 0.54541C40.0602 0.54541 51.4571 11.9422 51.4571 26.0012C51.4571 40.0577 40.0602 51.4545 26.0012 51.4545C11.9422 51.4545 0.54541 40.0577 0.54541 26.0012C0.54541 11.9422 11.9422 0.54541 26.0012 0.54541ZM26.0012 4.36302C23.1401 4.33199 20.3012 4.86872 17.6489 5.94216C14.9965 7.01561 12.5834 8.60443 10.5492 10.6167C8.51503 12.6289 6.90013 15.0247 5.79799 17.6652C4.69584 20.3057 4.12835 23.1386 4.12835 26C4.12835 28.8613 4.69584 31.6942 5.79799 34.3347C6.90013 36.9752 8.51503 39.371 10.5492 41.3832C12.5834 43.3955 14.9965 44.9843 17.6489 46.0577C20.3012 47.1312 23.1401 47.6679 26.0012 47.6369C31.6819 47.5498 37.1004 45.232 41.0868 41.184C45.0732 37.136 47.3076 31.6826 47.3076 26.0012C47.3076 20.3199 45.0732 14.8665 41.0868 10.8185C37.1004 6.77049 31.6819 4.4527 26.0012 4.36556V4.36302ZM26.0012 29.8112C30.1522 29.8112 34.0437 31.4782 36.8967 34.3821C37.2312 34.747 37.4108 35.2276 37.3978 35.7225C37.3847 36.2173 37.1799 36.6877 36.8266 37.0344C36.4733 37.3811 35.9991 37.577 35.5041 37.5807C35.0091 37.5845 34.532 37.3958 34.1735 37.0545C33.1082 35.968 31.8365 35.1055 30.433 34.5176C29.0296 33.9298 27.5228 33.6285 26.0012 33.6314C24.4763 33.6291 22.9663 33.9324 21.5605 34.5234C20.1547 35.1144 18.8815 35.9811 17.8163 37.0723C17.6408 37.2514 17.4318 37.3943 17.2011 37.4926C16.9704 37.591 16.7227 37.6429 16.4719 37.6455C16.2212 37.6481 15.9724 37.6013 15.7397 37.5078C15.507 37.4142 15.2951 37.2758 15.116 37.1003C14.9368 36.9248 14.794 36.7158 14.6956 36.4851C14.5973 36.2545 14.5453 36.0067 14.5427 35.7559C14.5401 35.5052 14.5869 35.2564 14.6805 35.0237C14.774 34.7911 14.9125 34.5791 15.088 34.4C16.5089 32.9459 18.2066 31.791 20.0808 31.0033C21.9551 30.2157 23.9682 29.8112 26.0012 29.8137V29.8112ZM18.366 17.7297C18.7912 17.7177 19.2145 17.7911 19.6108 17.9455C20.0071 18.0999 20.3685 18.3322 20.6735 18.6287C20.9785 18.9252 21.2209 19.2798 21.3865 19.6716C21.552 20.0634 21.6373 20.4845 21.6373 20.9098C21.6373 21.3352 21.552 21.7562 21.3865 22.148C21.2209 22.5398 20.9785 22.8945 20.6735 23.1909C20.3685 23.4874 20.0071 23.7197 19.6108 23.8741C19.2145 24.0286 18.7912 24.1019 18.366 24.0899C17.5223 24.0899 16.7131 23.7547 16.1165 23.1581C15.5198 22.5615 15.1847 21.7523 15.1847 20.9085C15.1847 20.0648 15.5198 19.2556 16.1165 18.659C16.7131 18.0624 17.5223 17.7272 18.366 17.7272V17.7297ZM33.6364 17.7297C34.0616 17.7177 34.4849 17.7911 34.8812 17.9455C35.2776 18.0999 35.6389 18.3322 35.9439 18.6287C36.2489 18.9252 36.4914 19.2798 36.6569 19.6716C36.8225 20.0634 36.9078 20.4845 36.9078 20.9098C36.9078 21.3352 36.8225 21.7562 36.6569 22.148C36.4914 22.5398 36.2489 22.8945 35.9439 23.1909C35.6389 23.4874 35.2776 23.7197 34.8812 23.8741C34.4849 24.0286 34.0616 24.1019 33.6364 24.0899C32.8086 24.0665 32.0225 23.7211 31.4453 23.1273C30.868 22.5335 30.5451 21.738 30.5451 20.9098C30.5451 20.0816 30.868 19.2861 31.4453 18.6923C32.0225 18.0985 32.8086 17.7532 33.6364 17.7297Z",fill:i||"#595C5F"})})},x=(0,o.memo)(v),h=function(e){var i=e.reaction,n=e.onClickReaction;return(0,r.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:n,"data-testid":"report-reaction",children:[(!i||0===Number(i.action))&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{}),(0,r.jsx)("div",{className:"ml-2 text-sm",children:"\u3053\u306e\u6295\u7a3f\u3092\u8a55\u4fa1\u3059\u308b"})]}),i&&1===Number(i.action)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{color:"#FA8E96"}),(0,r.jsx)("div",{className:"ml-2 text-red-400 text-sm",children:"\u8a55\u4fa1\u6e08\u307f(\u3068\u3066\u3082\u3088\u3044)"})]}),i&&2===Number(i.action)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{size:"20",color:"#80BFFA"}),(0,r.jsx)("div",{className:"ml-2 text-blue-400 text-sm",children:"\u8a55\u4fa1\u6e08\u307f(\u6b8b\u5ff5\u3060\u3063\u305f)"})]})]})},f=(0,o.memo)(h),p=n(4057),j=function(e){var i=e.className,n=e.numsReplies,t=e.onClickReplies;return(0,r.jsxs)("div",{className:"".concat(i," flex items-center cursor-pointer"),onClick:t,"data-testid":"onclick-report-replies",children:[(0,r.jsx)(p.Z,{}),(0,r.jsx)("div",{className:"ml-2 text-sm",children:n?"".concat(n,"\u4ef6\u306e\u8fd4\u4fe1"):"\u8fd4\u4fe1\u3059\u308b"})]})},w=(0,o.memo)(j),N=n(5632),g=n(3770),b=function(e){var i=e.color;return(0,r.jsx)("svg",{width:"56",height:"56",viewBox:"0 0 224 224",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"m-auto",children:(0,r.jsxs)("g",{id:"#fa8e96ff",children:[(0,r.jsx)("path",{fill:i||"#C8C8C9",opacity:"1.00",d:" M 98.46 10.67 C 120.26 7.63 142.83 12.18 162.06 22.78 C 181.75 33.58 197.39 51.37 206.05 72.06 C 214.69 92.05 216.52 114.87 211.38 136.01 C 208.33 148.67 202.70 160.62 195.42 171.39 C 182.25 189.85 162.74 203.58 141.01 210.01 C 118.77 216.67 94.20 215.45 72.81 206.37 C 55.34 199.37 40.04 187.23 29.11 171.92 C 15.34 152.67 8.23 128.62 10.03 104.96 C 11.27 84.51 19.28 64.77 31.64 48.55 C 47.95 27.97 72.44 14.12 98.46 10.67 M 107.36 23.43 C 89.76 24.28 72.57 30.74 58.44 41.21 C 42.33 53.28 30.86 71.16 25.92 90.62 C 19.88 114.60 24.38 141.09 38.31 161.56 C 48.43 175.94 62.37 187.92 78.83 194.37 C 98.37 202.16 120.75 202.86 140.64 195.89 C 157.84 189.97 173.42 178.97 183.86 163.98 C 195.26 148.11 201.43 128.47 200.63 108.91 C 200.14 89.71 192.65 71.08 180.99 55.97 C 163.31 34.46 135.25 21.75 107.36 23.43 Z"}),(0,r.jsx)("path",{fill:i||"#C8C8C9",opacity:"1.00",d:" M 75.37 80.61 C 82.49 77.62 91.35 82.44 92.78 89.99 C 94.90 97.81 88.11 106.50 79.95 106.03 C 73.38 106.16 67.16 100.68 67.09 93.98 C 66.41 88.28 70.13 82.69 75.37 80.61 Z"}),(0,r.jsx)("path",{fill:i||"#C8C8C9",opacity:"1.00",d:" M 140.29 80.18 C 148.31 77.68 157.02 84.68 156.76 92.94 C 157.16 101.00 148.61 107.56 140.91 105.76 C 134.13 104.37 129.40 96.99 130.95 90.23 C 131.93 85.56 135.64 81.39 140.29 80.18 Z"}),(0,r.jsx)("path",{fill:i||"#C8C8C9",opacity:"1.00",d:" M 59.21 130.21 C 62.34 129.25 65.79 131.15 67.04 134.09 C 74.35 148.33 87.86 160.16 104.06 162.43 C 110.34 163.63 116.61 161.84 122.84 161.19 C 137.49 157.64 150.10 147.20 156.85 133.76 C 158.60 129.54 164.92 128.72 167.95 131.99 C 169.64 134.20 170.54 137.45 168.89 139.93 C 164.02 149.19 157.29 157.62 149.00 164.04 C 135.56 173.71 118.31 178.07 101.91 175.75 C 81.22 172.65 63.48 157.78 54.60 139.17 C 52.82 135.53 55.36 131.03 59.21 130.21 Z"})]})})},y=(0,o.memo)(b),k=function(e){var i=e.reaction,n=e.onReact,t=(0,o.useMemo)((function(){return 1===(null===i||void 0===i?void 0:i.action)?"#FA8E96":"#C8C8C9"}),[i]),s=(0,o.useMemo)((function(){return 1===(null===i||void 0===i?void 0:i.action)?"text-red-400":"text-grey-400"}),[i]),l=(0,o.useMemo)((function(){return 2===(null===i||void 0===i?void 0:i.action)?"#80BFFA":"#C8C8C9"}),[i]),c=(0,o.useMemo)((function(){return 2===(null===i||void 0===i?void 0:i.action)?"text-blue-400":"text-grey-400"}),[i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:"my-4 border-t-gray-200"}),(0,r.jsx)("div",{className:"text-center",children:"\u3053\u306e\u6295\u7a3f\u3092\u8a55\u4fa1\u3057\u3066\u304f\u3060\u3055\u3044"}),(0,r.jsxs)("div",{className:"flex justify-center mt-8",children:[(0,r.jsxs)("div",{className:"mx-8 text-center cursor-pointer",onClick:function(){return n(1)},children:[(0,r.jsx)(y,{color:t}),(0,r.jsx)("div",{className:s,children:"\u3088\u304b\u3063\u305f"})]}),(0,r.jsxs)("div",{className:"mx-8 text-center cursor-pointer",onClick:function(){return n(2)},children:[(0,r.jsx)(x,{color:l}),(0,r.jsx)("div",{className:c,children:"\u6b8b\u5ff5\u3060\u3063\u305f"})]})]})]})},Z=(0,o.memo)(k),R=n(3997),M=n(305),L=n(7693),F=n(6387),D=n(4823),I=n(1129),A=function(e){var i=e.documents;return(0,r.jsx)("div",{className:"flex whitespace-nowrap overflow-x-scroll hide-scroll","data-testid":"report-document",children:i&&i.map((function(e,i){return(0,r.jsx)(D.Z,{className:"rounded-lg mr-4 h-auto p-[5px] w-max bg-grey-200",children:(0,r.jsx)(I.Z,{file:e},i)},i)}))})},B=(0,o.memo)(A),V=n(9328),H=n(3397),E=n(9936),S=n(3906),T=n(9390),O=n(1093);function _(e){return void 0!==e.replies}var z=function(e){var i=e.report,n=e.numsReplies,s=e.renderReportPhoto,l=(0,N.useRouter)(),a=(0,R.I0)(),u=(0,L.I)(),m=function(){var e=(0,o.useState)(!1),i=e[0],n=e[1],t=(0,T.X)(),r=(0,o.useCallback)((function(){t([S.P.reactionCreate])&&n(!i)}),[t,i]);return{isShowReactionSection:i,handleClickReaction:r}}(),v=m.isShowReactionSection,x=m.handleClickReaction,h=(0,t.Z)((0,E.zT)(),1)[0],p=(0,o.useCallback)((function(e){a((0,M.vo)(e)),(null===u||void 0===u?void 0:u.share.id)&&l.push(O.Z.report_detail(null===u||void 0===u?void 0:u.share.id,null===u||void 0===u?void 0:u.id,e))}),[null===u||void 0===u?void 0:u.id,null===u||void 0===u?void 0:u.share.id,a,l]),j=(0,o.useCallback)((function(e){h({variables:{shareID:(null===u||void 0===u?void 0:u.share.id)||"",constructionID:(null===u||void 0===u?void 0:u.id)||"",reportID:i.id,action:e},update:function(e,i){var n=i.data;e.modify({id:"Report:".concat(null===n||void 0===n?void 0:n.createReportReaction.reportID),fields:{reaction:function(){return null===n||void 0===n?void 0:n.createReportReaction}}}),e.modify({id:"ReportOverview:".concat(null===n||void 0===n?void 0:n.createReportReaction.reportID),fields:{reaction:function(){return null===n||void 0===n?void 0:n.createReportReaction}}})},onError:function(e){(0,V.d)(e)}})}),[null===u||void 0===u?void 0:u.id,null===u||void 0===u?void 0:u.share.id,h,i.id]);return(0,r.jsxs)("div",{"data-testid":"report-content",children:[(0,r.jsx)(c,{user:i.user,children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsxs)("div",{className:"text-grey-500",children:[(0,r.jsx)("span",{children:i.createdAt&&(0,g.N)(i.createdAt)}),(0,r.jsx)("span",{className:"ml-2",children:i.updatedAt!==i.createdAt?"(\u7de8\u96c6\u6e08\u307f)":""})]}),_(i)&&void 0!==i.documentTotal&&i.documentTotal>0&&(0,r.jsxs)("div",{className:"ml-4 flex",children:[(0,r.jsx)(F.Z,{}),(0,r.jsx)("div",{children:i.documentTotal})]})]})}),(0,r.jsx)(d,{body:i.body,onClick:function(){return p(i.id)},isReportDetail:!_(i),className:"mt-4"}),s&&s()||(0,r.jsx)(C.Z,{photo:_(i)?i.photo:i.photos,className:"mt-4"}),!_(i)&&i.documents&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(B,{documents:i.documents})}),(0,r.jsxs)("div",{className:"mt-4 flex",children:[(0,r.jsx)(f,{reaction:i.reaction,onClickReaction:x}),_(i)&&(0,r.jsx)(w,{className:"ml-4",numsReplies:_(i)?i.responseTotal:n,onClickReplies:function(){return p(i.id)}})]}),v&&(0,r.jsx)(Z,{onReact:function(e){return j(e)},reaction:i.reaction}),_(i)&&i.replies&&i.replies.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("hr",{className:"my-4 border-t-gray-200"}),i.replies.slice(0,2).reverse().map((function(e,i){return(0,r.jsx)(H.Z,{reply:e,showDate:!0},i)}))]})]})},P=(0,o.memo)(z)},1169:function(e,i,n){n.d(i,{Z:function(){return d}});var t=n(2322),r=n(2784),o=n(6577),s=n.n(o),l=function(){return(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 19H4C2.9 19 2 18.1 2 17V4C2 2.9 2.9 2 4 2H17C18.1 2 19 2.9 19 4V17C19 18.1 18.1 19 17 19ZM17 4H4V17H17V4ZM22 8V20C22 21.1 21.1 22 20 22H8V20H20V8H22Z",fill:"grey"})})},c=(0,r.memo)(l),a=function(e){var i=e.photo,n=e.photoTotal,o=e.className,l=e.onClickPhoto,a=(0,r.useMemo)((function(){return"".concat(l?"cursor-pointer":"")}),[l]),d=(0,r.useCallback)((function(e){l&&l(e)}),[l]);if(!i)return(0,t.jsx)(t.Fragment,{});var C=Array.isArray(i)?i.map((function(e,i){return e?(0,t.jsx)(s(),{layout:"fixed",objectFit:"cover",src:e.url,width:"320",height:"215",alt:"","data-testid":"onclick-report-photo",className:a,onClick:function(){return d(e)}},i):(0,t.jsx)(t.Fragment,{})})):(0,t.jsxs)("div",{className:"relative w-max",children:[(0,t.jsx)(s(),{layout:"fixed",objectFit:"cover",src:i.url,width:"320",height:"215",alt:"",className:a,onClick:function(){return d(i)}}),Number(n)>1&&(0,t.jsx)("div",{className:"absolute bottom-2 right-2",children:(0,t.jsx)(c,{})})]});return(0,t.jsx)("div",{className:"".concat(o," whitespace-nowrap overflow-x-scroll hide-scroll"),"data-testid":"report-photo",children:C})},d=(0,r.memo)(a)},3397:function(e,i,n){n.d(i,{Z:function(){return g}});var t=n(6383),r=n(2322),o=n(4823),s=n(3770),l=n(2784),c=n(5134),a=n(6436),d=n(7539),C=n(7693),u=n(5814),m=n(9328),v=n(3206),x=n(8033),h=n(9936),f=n(3731),p=n(8842),j=n(2595),w=n(5632),N=function(e){var i,n,N,g,b=e.reply,y=e.showDate,k=e.onEditReply,Z=(0,w.useRouter)(),R=(0,C.I)(),M=(0,c.U)(),L=(0,l.useMemo)((function(){return null===M||void 0===M?void 0:M.id}),[null===M||void 0===M?void 0:M.id]),F=(0,f.K)(),D=F.isShowDots,I=F.handleMouseOver,A=F.handleMouseLeave,B=(0,p.L)(),V=B.isShowBubble,H=B.setIsShowBubble,E=B.handleClick,S=B.handleCloseBubble,T=(0,t.Z)((0,h.cs)(),1)[0],O=(0,l.useMemo)((function(){return function(e,i){return e.ownerID===i}(b,L||"")}),[L,b]),_=(0,l.useMemo)((function(){return(0,j.Z)(b)}),[b]),z=(0,l.useCallback)((function(e){e.preventDefault(),H(!0)}),[H]),P=(0,l.useCallback)((function(){T({variables:{shareID:(null===R||void 0===R?void 0:R.share.id)||"",constructionID:(null===R||void 0===R?void 0:R.id)||"",reportReplyID:b.id},update:function(e){e.evict({id:"ReportReply:".concat(b.id)}),e.gc(),e.modify({id:"ReportOverview:".concat(Z.query.reportId),fields:{responseTotal:function(e){return e-1}}})},onError:function(e){(0,m.d)(e)}}),S()}),[null===R||void 0===R?void 0:R.id,null===R||void 0===R?void 0:R.share.id,T,S,b.id,Z.query.reportId]),q=(0,l.useCallback)((function(){k&&k(b),S()}),[S,k,b]),G=(0,l.useRef)(null);return(0,d.O)(G,S),(0,r.jsxs)("div",{"data-testid":"reply",children:[(0,r.jsx)("div",{className:"mt-1",children:!O&&(0,r.jsx)(u.Z,{name:(null===(i=b.owner)||void 0===i?void 0:i.name)||(null===(n=b.user)||void 0===n?void 0:n.name)||"",url:(null===(N=b.owner)||void 0===N?void 0:N.url)||(null===(g=b.user)||void 0===g?void 0:g.url)||""})}),(0,r.jsx)("div",{className:"mt-2 ml-8 flex ".concat(O&&"justify-end"),children:(0,r.jsx)("div",{className:"max-w-[60%]",children:(0,r.jsxs)("div",{className:"relative",children:[V&&O&&(0,r.jsx)("div",{ref:G,children:(0,r.jsx)(a.Z,{onBlur:S,onDelete:P,onEdit:q})}),(0,r.jsxs)("div",{className:"flex items-center flex-row-reverse",onMouseOver:I,onMouseLeave:A,onClick:function(e){return E(e)},children:[(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)(o.Z,{id:b.id,className:"rounded-lg ml-2 mt-1 h-auto p-5 w-fit break-words max-w-full ".concat(O?"bg-blue-300 ml-auto":"bg-grey-200"),children:[(0,r.jsx)("div",{className:"whitespace-pre-line break-words",children:b.body}),_&&(0,r.jsx)("div",{className:"text-xs text-grey-500",children:"(\u7de8\u96c6\u6e08\u307f)"})]}),y&&(0,r.jsx)("div",{"data-testid":"reply-date",className:"text-right text-grey-500 text-sm w-fit break-words max-w-full ".concat(O?"ml-auto":"ml-3"),children:(0,s.N)(b.createdAt)})]}),(0,r.jsx)("div",{className:O&&D&&k&&!["xs","sm"].includes((0,v.G)())?"block cursor-pointer":"hidden",onClick:function(e){return z(e)},children:(0,r.jsx)(x.Z,{})})]})]})})})]})},g=(0,l.memo)(N)}}]);